<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Your First WebSocket!</title>
</head>
<body>
        <script type="text/javascript">
            var wsUri = "ws://13.124.63.236:8080/gungduk/websocket/echo.do";//이건 아직 고치지 않으셔도 됩니다.
            var msg = {
            	    latitude: "37.608192",
            	    longitude: "126.964800",
            	    id: "sy"
            	  };//이건 예시이고 이런식으로 백에 정보를 전달해주시면 됩니다. id는 프런트에서 session에 담고 있다가 넘겨주셔야 할 것 같습니다

                websocket = new WebSocket(wsUri);
            	
            	//웹소켓을 오픈하는 함수입니다.
                websocket.onopen = function(evt) {
                    console.log("연결됨");
                    websocket.send(JSON.stringify(msg));
                };
                //백에서 프런트로 데이터를 넘겨주면 evt에 담겨있게 됩니다.
                websocket.onmessage = function(evt) {
                    console.log(evt.data);
                };
                //에러가 났을때 에러메세지를 출력해줍니다.
                websocket.onerror = function(evt) {
                    console.log("error: " + evt.data);
                };
                //웹소켓을 닫을때 사용하는 함수입니다.
                websocket.onclose = function(evt) {
                    websocket.close();
                    console.log("close");
                };
           
         </script>
</body>
</html>